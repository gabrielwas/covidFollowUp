(this["webpackJsonpcorona-follow"]=this["webpackJsonpcorona-follow"]||[]).push([[0],{326:function(e,t,a){e.exports=a(495)},331:function(e,t,a){},332:function(e,t,a){},495:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(17),c=a.n(o),i=(a(331),a(18)),l=(a(332),a(546)),s=a(33),u=a(113),m=Object(n.createContext)(),d=function(){return Object(n.useContext)(m)},p={countryData:void 0,allData:void 0,countries:void 0,selectedCountry:"Brazil",activeStep:1},f=function(e,t){switch(t.type){case"updateProperty":return Object(u.a)(Object(u.a)({},e),{},Object(s.a)({},t.property,t.info));case"updateSelectedCountry":return Object(u.a)(Object(u.a)({},e),{},{selectedCountry:t.info});default:return e}},h=function(e,t){var a=[{id:"Mortes",data:[]},{id:"Recuperados",data:[]},{id:"Casos Ativos",data:[]},{id:"Confirmados",data:[]}];return t[e].forEach((function(e){var t=e.date,n=e.confirmed,r=e.recovered,o=e.deaths,c=new Date("2020-03-03");new Date(t)>c&&(a.find((function(e){return"Confirmados"===e.id})).data.push({x:t,y:n}),a.find((function(e){return"Recuperados"===e.id})).data.push({x:t,y:r}),a.find((function(e){return"Mortes"===e.id})).data.push({x:t,y:o}),a.find((function(e){return"Casos Ativos"===e.id})).data.push({x:t,y:n-r}))})),a},y=["Dom","Seg","Ter","Qua","Qui","Sex","Sab"],E=["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],g=function(e){var t,a=[];return e.find((function(e){return"Mortes"===e.id})).data.forEach((function(e){var n=new Date;n.setDate(n.getDate()-15);var r=new Date(e.x);if(r>n){var o=y[r.getDay()],c=r.getDate(),i=E[r.getMonth()];a.push({date:"".concat(o," ").concat(c," ").concat(i),deaths:e.y-t.y})}t=e})),a},v=a(548),x=a(547),b=a(549),w=a(159),k=a(550),j=a(598),D=a(544),C=a(291),O=a.n(C),S=a(605),P=a(543),N=a(542),M=function(e){var t=e.name,a=e.nextStep,n=e.icon,o=d().dispatch;return r.a.createElement(S.a,{button:!0,key:t,onClick:function(){return o({type:"updateProperty",property:"activeStep",info:a})}},r.a.createElement(N.a,null,n),r.a.createElement(P.a,{primary:t}))},B=a(292),z=a.n(B),A=a(293),R=a.n(A);function F(){var e=r.a.useState(null),t=Object(i.a)(e,2),a=t[0],n=t[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a,{edge:"start",color:"inherit","aria-label":"menu","aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){n(e.currentTarget)}},r.a.createElement(O.a,null)),r.a.createElement(j.a,{id:"simple-menu",anchorEl:a,keepMounted:!0,open:Boolean(a),onClose:function(){n(null)}},r.a.createElement(M,{name:"Gr\xe1fico Geral",nextStep:1,icon:r.a.createElement(z.a,null)}),r.a.createElement(M,{name:"Mortes",nextStep:2,icon:r.a.createElement(R.a,null)})))}var I=Object(l.a)((function(e){return{appBar:{zIndex:e.zIndex.drawer+1}}})),J=function(e){var t=e.name,a=I();return r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,null),r.a.createElement(v.a,{position:"fixed",className:a.appBar},r.a.createElement(b.a,null,r.a.createElement(k.a,{justify:"space-between",container:!0},r.a.createElement(k.a,{item:!0},r.a.createElement(F,null)),r.a.createElement(k.a,{item:!0},r.a.createElement(w.a,{variant:"h6",noWrap:!0},t))))))},W=a(497),G=(a(294),a(545)),T=a(305),L=a.n(T),Q=a(306),H=a.n(Q),X=Object(l.a)((function(e){return{listConfig:{backgroundColor:e.palette.background.paper,position:"relative",overflow:"auto",maxHeight:"85vh"}}})),Y=function(){var e=d(),t=e.state,a=e.dispatch,n=X();return r.a.createElement("div",{className:n.listConfig},r.a.createElement(G.a,{component:"nav","aria-label":"secondary mailbox folders"},t.countries&&t.countries.map((function(e){return r.a.createElement(S.a,{key:e.name,button:!0,onClick:function(){return n=e.name,a({type:"updateProperty",property:"selectedCountry",info:n}),void a({type:"updateProperty",property:"countryData",info:h(n,t.allData)});var n}},e.progression?r.a.createElement(N.a,null,r.a.createElement(L.a,{style:{color:"#ff3300"}})):r.a.createElement(N.a,null,r.a.createElement(H.a,{style:{color:"#33cc33"}})),r.a.createElement(P.a,{primary:e.name,secondary:"Casos: "+e.cases.toLocaleString("pt-BR")}))}))))},$=a(602),q=a(87),K=(a(452),a(41)),U=function(){return r.a.createElement(K.b,null,r.a.createElement(K.c,null),r.a.createElement(K.e,null),r.a.createElement(K.f,null),r.a.createElement(K.g,null),r.a.createElement(K.a,{text:"X Axis",className:"alt-x-label",includeMargin:!1,xPercent:.025,yPercent:1.01}),r.a.createElement(K.a,{text:"Y Axis",className:"alt-y-label",includeMargin:!1,xPercent:.06,yPercent:.06,style:{transform:"rotate(-90)",textAnchor:"end"}}),r.a.createElement(K.d,{className:"first-series",data:[{x:1,y:3},{x:2,y:5},{x:3,y:15},{x:4,y:12}]}),r.a.createElement(K.d,{className:"second-series",data:null}),r.a.createElement(K.d,{className:"third-series",curve:"curveMonotoneX",data:[{x:1,y:10},{x:2,y:4},{x:3,y:2},{x:4,y:15}],strokeDasharray:"7, 3"}),r.a.createElement(K.d,{className:"fourth-series",curve:q.a.alpha(.5),style:{strokeDasharray:"2 2"},data:[{x:1,y:7},{x:2,y:11},{x:3,y:9},{x:4,y:2}]}))},V=a(599),Z=Object(l.a)((function(e){return{root:{width:"100%",height:"100%"},card:{flexGrow:1}}})),_=function(){var e=d().state,t=Z();return r.a.createElement(k.a,{container:!0,spacing:2,alignItems:"center",justify:"center",style:{}},r.a.createElement(k.a,{item:!0,sm:12,md:10},r.a.createElement(k.a,{container:!0,spacing:0,className:t.root},r.a.createElement(k.a,{item:!0,sm:12,md:12},r.a.createElement($.a,{label:e.selectedCountry})),r.a.createElement(k.a,{item:!0,sm:12,md:12},r.a.createElement(V.a,{p:1},r.a.createElement("div",{style:{height:"85vh",width:"80vw"}},r.a.createElement(W.a,{className:t.root,elevation:3},r.a.createElement(U,null))))))),r.a.createElement(k.a,{item:!0,sm:12,md:2},r.a.createElement(V.a,null,r.a.createElement(Y,null))))},ee=a(308),te=function(e){var t=e.data;return r.a.createElement(ee.a,{data:t,keys:["deaths"],indexBy:"date",margin:{top:50,right:130,bottom:50,left:60},padding:.3,colors:{scheme:"set1"},defs:[{id:"dots",type:"patternDots",background:"inherit",color:"#38bcb2",size:4,padding:1,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"#eed312",rotation:-45,lineWidth:6,spacing:10}],fill:[{match:{id:"fries"},id:"dots"},{match:{id:"sandwich"},id:"lines"}],borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Dia",legendPosition:"middle",legendOffset:32},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Quantidade",legendPosition:"middle",legendOffset:-50},labelSkipWidth:12,labelSkipHeight:12,labelTextColor:{from:"color",modifiers:[["darker",1.6]]},legends:[],animate:!0,motionStiffness:90,motionDamping:15})},ae=Object(l.a)((function(e){return{root:{width:"100%",height:"100%"}}})),ne=function(){var e=d().state,t=ae();return r.a.createElement(k.a,{container:!0,spacing:2,alignItems:"flex-start",style:{},justify:"center"},r.a.createElement(k.a,{item:!0,xs:10},r.a.createElement("div",{style:{height:"85vh",width:"80vw",display:"flex"}},r.a.createElement(W.a,{className:t.root,elevation:3},e.countryData&&r.a.createElement(te,{data:g(e.countryData)})))),r.a.createElement(k.a,{item:!0,xs:2},r.a.createElement(Y,null)))},re=function(e){switch(e.step){case 1:return r.a.createElement(_,null);case 2:return r.a.createElement(ne,null)}},oe=function(e){var t=e.step;return r.a.createElement(re,{step:t})},ce=Object(l.a)((function(e){return{root:{display:"flex"},content:{flexGrow:1,padding:e.spacing(3)},toolbar:e.mixins.toolbar}}));var ie=function(){var e=ce(),t=r.a.useReducer(f,p),a=Object(i.a)(t,2),o=a[0],c=a[1];return Object(n.useEffect)((function(){fetch("https://pomber.github.io/covid19/timeseries.json").then((function(e){return e.json()})).then((function(e){return e})).then((function(e){c({type:"updateProperty",property:"allData",info:e}),c({type:"updateProperty",property:"countryData",info:h("Brazil",e)})})),fetch("https://pomber.github.io/covid19/timeseries.json").then((function(e){return e.json()})).then((function(e){for(var t=[],a=0,n=Object.entries(e);a<n.length;a++){var r=Object(i.a)(n[a],2),o=r[0],c=r[1],l=c[c.length-1].confirmed-c[c.length-1].recovered,s=c[c.length-2].confirmed-c[c.length-2].recovered,u={name:o,cases:c[c.length-1].confirmed,progression:!(l<s)};t.push(u)}return t.sort((function(e,t){return e.cases<t.cases?1:-1})),t})).then((function(e){c({type:"updateProperty",property:"countries",info:e})}))}),[]),r.a.createElement("div",{className:e.root},r.a.createElement(m.Provider,{value:{state:o,dispatch:c}},r.a.createElement(J,{name:"Covid Follow-up"}),r.a.createElement("main",{className:e.content},r.a.createElement("div",{className:e.toolbar}),r.a.createElement(oe,{step:o.activeStep}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.Fragment,null,r.a.createElement(ie,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[326,1,2]]]);
//# sourceMappingURL=main.802967fe.chunk.js.map