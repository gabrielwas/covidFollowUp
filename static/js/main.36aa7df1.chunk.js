(this["webpackJsonpcorona-follow"]=this["webpackJsonpcorona-follow"]||[]).push([[0],{279:function(e,t,a){e.exports=a(432)},284:function(e,t,a){},285:function(e,t,a){},432:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(15),i=a.n(o),c=(a(284),a(16)),l=(a(285),a(484)),s=a(29),u=a(91),d=Object(n.createContext)(),m=function(){return Object(n.useContext)(d)},p={countryData:void 0,allData:void 0,countries:void 0,selectedCountry:"Brazil",activeStep:1},f=function(e,t){switch(t.type){case"updateProperty":return Object(u.a)(Object(u.a)({},e),{},Object(s.a)({},t.property,t.info));case"updateSelectedCountry":return Object(u.a)(Object(u.a)({},e),{},{selectedCountry:t.info});default:return e}},h=function(e,t){var a=[{id:"Mortes",data:[]},{id:"Recuperados",data:[]},{id:"Casos Ativos",data:[]},{id:"Confirmados",data:[]}];return t[e].forEach((function(e){var t=e.date,n=e.confirmed,r=e.recovered,o=e.deaths,i=new Date("2020-03-03");new Date(t)>i&&(a.find((function(e){return"Confirmados"===e.id})).data.push({x:t,y:n}),a.find((function(e){return"Recuperados"===e.id})).data.push({x:t,y:r}),a.find((function(e){return"Mortes"===e.id})).data.push({x:t,y:o}),a.find((function(e){return"Casos Ativos"===e.id})).data.push({x:t,y:n-r}))})),a},g=["Dom","Seg","Ter","Qua","Qui","Sex","Sab"],y=["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],E=function(e){var t,a=[];return e.find((function(e){return"Mortes"===e.id})).data.forEach((function(e){var n=new Date;n.setDate(n.getDate()-15);var r=new Date(e.x);if(r>n){var o=g[r.getDay()],i=r.getDate(),c=y[r.getMonth()];a.push({date:"".concat(o," ").concat(i," ").concat(c),deaths:e.y-t.y})}t=e})),a},v=a(486),b=a(485),x=a(487),k=a(131),w=a(488),C=a(533),S=a(482),j=a(241),O=a.n(j),D=a(538),P=a(481),B=a(480),z=function(e){var t=e.name,a=e.nextStep,n=e.icon,o=m().dispatch;return r.a.createElement(D.a,{button:!0,key:t,onClick:function(){return o({type:"updateProperty",property:"activeStep",info:a})}},r.a.createElement(B.a,null,n),r.a.createElement(P.a,{primary:t}))},R=a(242),M=a.n(R),N=a(243),W=a.n(N);function F(){var e=r.a.useState(null),t=Object(c.a)(e,2),a=t[0],n=t[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{edge:"start",color:"inherit","aria-label":"menu","aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){n(e.currentTarget)}},r.a.createElement(O.a,null)),r.a.createElement(C.a,{id:"simple-menu",anchorEl:a,keepMounted:!0,open:Boolean(a),onClose:function(){n(null)}},r.a.createElement(z,{name:"Gr\xe1fico Geral",nextStep:1,icon:r.a.createElement(M.a,null)}),r.a.createElement(z,{name:"Mortes",nextStep:2,icon:r.a.createElement(W.a,null)})))}var L=Object(l.a)((function(e){return{appBar:{zIndex:e.zIndex.drawer+1}}})),I=function(e){var t=e.name,a=L();return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,null),r.a.createElement(v.a,{position:"fixed",className:a.appBar},r.a.createElement(x.a,null,r.a.createElement(w.a,{justify:"space-between",container:!0},r.a.createElement(w.a,{item:!0},r.a.createElement(F,null)),r.a.createElement(w.a,{item:!0},r.a.createElement(k.a,{variant:"h6",noWrap:!0},t))))))},J=a(434),T=a(244),A=function(e){var t=e.data;return r.a.createElement(T.a,{data:t,margin:{top:50,right:110,bottom:50,left:60},xScale:{type:"time",format:"%Y-%m-%d",precision:"day"},yScale:{type:"linear",min:"auto",max:"auto",stacked:!1,reverse:!1},xFormat:"time:%d %b",axisTop:null,axisRight:null,axisBottom:{orient:"bottom",tickSize:5,tickPadding:5,tickRotation:50,legendOffset:36,legendPosition:"middle",format:"%b %d"},axisLeft:{orient:"left",tickSize:5,tickPadding:5,tickRotation:0,legendOffset:-40,legendPosition:"middle"},colors:{scheme:"set1"},pointSize:4,pointColor:{theme:"background"},pointBorderWidth:2,pointBorderColor:{from:"serieColor"},pointLabel:"y",pointLabelYOffset:-12,useMesh:!0,legends:[{anchor:"top",direction:"row",justify:!1,translateX:0,translateY:-36,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:100,itemHeight:20,itemOpacity:.75,symbolSize:18,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)",effects:[{on:"hover",style:{itemBackground:"rgba(0, 0, 0, .03)",itemOpacity:1}}]}]})},G=a(483),H=a(255),Q=a.n(H),Y=a(256),X=a.n(Y),$=Object(l.a)((function(e){return{listConfig:{backgroundColor:e.palette.background.paper,position:"relative",overflow:"auto",maxHeight:"85vh"}}})),q=function(){var e=m(),t=e.state,a=e.dispatch,n=$();return r.a.createElement("div",{className:n.listConfig},r.a.createElement(G.a,{component:"nav","aria-label":"secondary mailbox folders"},t.countries&&t.countries.map((function(e){return r.a.createElement(D.a,{key:e.name,button:!0,onClick:function(){return n=e.name,a({type:"updateProperty",property:"selectedCountry",info:n}),void a({type:"updateProperty",property:"countryData",info:h(n,t.allData)});var n}},e.progression?r.a.createElement(B.a,null,r.a.createElement(Q.a,{style:{color:"#ff3300"}})):r.a.createElement(B.a,null,r.a.createElement(X.a,{style:{color:"#33cc33"}})),r.a.createElement(P.a,{primary:e.name,secondary:"Casos: "+e.cases.toLocaleString("pt-BR")}))}))))},K=a(536),U=a(534),V=Object(l.a)((function(e){return{root:{width:"100%",height:"100%"},card:{flexGrow:1}}})),Z=function(){var e=m().state,t=V();return r.a.createElement(w.a,{container:!0,spacing:2,alignItems:"center",justify:"center",style:{}},r.a.createElement(w.a,{item:!0,sm:12,md:10},r.a.createElement(w.a,{container:!0,spacing:0,className:t.root},r.a.createElement(w.a,{item:!0,sm:12,md:12},r.a.createElement(K.a,{label:e.selectedCountry})),r.a.createElement(w.a,{item:!0,sm:12,md:12},r.a.createElement(U.a,{p:1},r.a.createElement("div",{style:{height:"800px",width:"100%"}},r.a.createElement(J.a,{className:t.root,elevation:3},e.countryData&&r.a.createElement(A,{data:e.countryData}))))))),r.a.createElement(w.a,{item:!0,sm:12,md:2},r.a.createElement(U.a,null,r.a.createElement(q,null))))},_=a(257),ee=function(e){var t=e.data;return r.a.createElement(_.a,{data:t,keys:["deaths"],indexBy:"date",margin:{top:50,right:130,bottom:50,left:60},padding:.3,colors:{scheme:"set1"},defs:[{id:"dots",type:"patternDots",background:"inherit",color:"#38bcb2",size:4,padding:1,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"#eed312",rotation:-45,lineWidth:6,spacing:10}],fill:[{match:{id:"fries"},id:"dots"},{match:{id:"sandwich"},id:"lines"}],borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Dia",legendPosition:"middle",legendOffset:32},axisLeft:{tickSize:5,tickPadding:5,tickRotation:0,legend:"Quantidade",legendPosition:"middle",legendOffset:-50},labelSkipWidth:12,labelSkipHeight:12,labelTextColor:{from:"color",modifiers:[["darker",1.6]]},legends:[],animate:!0,motionStiffness:90,motionDamping:15})},te=Object(l.a)((function(e){return{root:{width:"100%",height:"100%"}}})),ae=function(){var e=m().state,t=te();return r.a.createElement(w.a,{container:!0,spacing:2,alignItems:"flex-start",style:{},justify:"center"},r.a.createElement(w.a,{item:!0,xs:10},r.a.createElement("div",{style:{height:"85vh",width:"80vw",display:"flex"}},r.a.createElement(J.a,{className:t.root,elevation:3},e.countryData&&r.a.createElement(ee,{data:E(e.countryData)})))),r.a.createElement(w.a,{item:!0,xs:2},r.a.createElement(q,null)))},ne=function(e){switch(e.step){case 1:return r.a.createElement(Z,null);case 2:return r.a.createElement(ae,null)}},re=function(e){var t=e.step;return r.a.createElement(ne,{step:t})},oe=Object(l.a)((function(e){return{root:{display:"flex"},content:{flexGrow:1,padding:e.spacing(3)},toolbar:e.mixins.toolbar}}));var ie=function(){var e=oe(),t=r.a.useReducer(f,p),a=Object(c.a)(t,2),o=a[0],i=a[1];return Object(n.useEffect)((function(){fetch("https://pomber.github.io/covid19/timeseries.json").then((function(e){return e.json()})).then((function(e){return e})).then((function(e){i({type:"updateProperty",property:"allData",info:e}),i({type:"updateProperty",property:"countryData",info:h("Brazil",e)})})),fetch("https://pomber.github.io/covid19/timeseries.json").then((function(e){return e.json()})).then((function(e){for(var t=[],a=0,n=Object.entries(e);a<n.length;a++){var r=Object(c.a)(n[a],2),o=r[0],i=r[1],l=i[i.length-1].confirmed-i[i.length-1].recovered,s=i[i.length-2].confirmed-i[i.length-2].recovered,u={name:o,cases:i[i.length-1].confirmed,progression:!(l<s)};t.push(u)}return t.sort((function(e,t){return e.cases<t.cases?1:-1})),t})).then((function(e){i({type:"updateProperty",property:"countries",info:e})}))}),[]),r.a.createElement("div",{className:e.root},r.a.createElement(d.Provider,{value:{state:o,dispatch:i}},r.a.createElement(I,{name:"Covid Follow-up"}),r.a.createElement("main",{className:e.content},r.a.createElement("div",{className:e.toolbar}),r.a.createElement(re,{step:o.activeStep}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.Fragment,null,r.a.createElement(ie,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[279,1,2]]]);
//# sourceMappingURL=main.36aa7df1.chunk.js.map