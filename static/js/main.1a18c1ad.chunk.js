(this["webpackJsonpcorona-follow"]=this["webpackJsonpcorona-follow"]||[]).push([[0],{100:function(e,t,a){},127:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(7),c=a.n(o),l=(a(99),a(14)),i=(a(100),a(159)),s=a(16),u=a(39),m=Object(n.createContext)(),d=function(){return Object(n.useContext)(m)},p={countryData:void 0,allData:void 0,countries:void 0,selectedCountry:"Brazil",daysRange:void 0,activeStep:1},f=function(e,t){switch(t.type){case"updateProperty":return Object(u.a)(Object(u.a)({},e),{},Object(s.a)({},t.property,t.info));case"updateSelectedCountry":return Object(u.a)(Object(u.a)({},e),{},{selectedCountry:t.info});default:return e}},E=function(e,t,a){var n=[{id:"Mortes",data:[]},{id:"Recuperados",data:[]},{id:"Casos Ativos",data:[]},{id:"Confirmados",data:[]}],r=new Date("2020-03-03"),o=new Date("2020-03-03");return r.setDate(r.getDate()+a[0]),o.setDate(o.getDate()+a[1]),t[e].forEach((function(e){var t=e.date,a=e.confirmed,c=e.recovered,l=e.deaths,i=new Date(t);i>r&&i<o&&(n.find((function(e){return"Confirmados"===e.id})).data.push({x:i,y:a}),n.find((function(e){return"Recuperados"===e.id})).data.push({x:i,y:c}),n.find((function(e){return"Mortes"===e.id})).data.push({x:i,y:l}),n.find((function(e){return"Casos Ativos"===e.id})).data.push({x:i,y:a-c}))})),n},y=["Dom","Seg","Ter","Qua","Qui","Sex","Sab"],v=["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],h=function(e,t){var a=[],n={y:0},r=new Date("2020-03-03"),o=new Date("2020-03-03");return r.setDate(r.getDate()+t[0]+1),o.setDate(o.getDate()+t[1]),e.find((function(e){return"Mortes"===e.id})).data.forEach((function(e,t,c){t>0&&(n=c[t-1]);var l=new Date(e.x);if(l>r&&l<o){var i=y[l.getDay()],s=l.getDate(),u=v[l.getMonth()];a.push({x:"".concat(i," ").concat(s," ").concat(u),y:e.y-n.y})}})),a},g=a(161),b=a(160),x=a(162),D=a(50),w=a(163),C=a(164),j=a(157),k=a(75),O=a.n(k),M=a(168),N=a(156),R=a(155),S=function(e){var t=e.name,a=e.nextStep,n=e.icon,o=d().dispatch;return r.a.createElement(M.a,{button:!0,key:t,onClick:function(){return o({type:"updateProperty",property:"activeStep",info:a})}},r.a.createElement(R.a,null,n),r.a.createElement(N.a,{primary:t}))},A=a(158),B=a(76),F=a.n(B),P=a(77),T=a.n(P);function W(){var e=r.a.useState(null),t=Object(l.a)(e,2),a=t[0],n=t[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{edge:"start",color:"inherit","aria-label":"menu","aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){n(e.currentTarget)}},r.a.createElement(O.a,null)),r.a.createElement(C.a,{id:"simple-menu",anchorEl:a,keepMounted:!0,open:Boolean(a),onClose:function(){n(null)}},r.a.createElement(A.a,null,r.a.createElement(S,{name:"Gr\xe1fico Geral",nextStep:1,icon:r.a.createElement(F.a,null)}),r.a.createElement(S,{name:"Mortes",nextStep:2,icon:r.a.createElement(T.a,null)}))))}var I=Object(i.a)((function(e){return{appBar:{zIndex:e.zIndex.drawer+1}}})),X=function(e){var t=e.name,a=I();return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,null),r.a.createElement(g.a,{position:"fixed",className:a.appBar},r.a.createElement(x.a,null,r.a.createElement(w.a,{justify:"space-between",alignItems:"center",container:!0},r.a.createElement(w.a,{item:!0},r.a.createElement(W,null)),r.a.createElement(w.a,{item:!0},r.a.createElement(D.a,{variant:"h6",noWrap:!0},t))))))},z=a(129),J=a(78),G=a.n(J),L=a(79),Q=a.n(L),Y=Object(i.a)((function(e){return{listConfig:{backgroundColor:e.palette.background.paper,position:"relative",overflow:"auto",maxHeight:"75vh"}}})),H=function(){var e=d(),t=e.state,a=e.dispatch,n=Y();return r.a.createElement("div",{className:n.listConfig},r.a.createElement(A.a,{component:"nav","aria-label":"secondary mailbox folders"},t.countries&&t.countries.map((function(e){return r.a.createElement(M.a,{key:e.name,button:!0,onClick:function(){return n=e.name,a({type:"updateProperty",property:"selectedCountry",info:n}),void a({type:"updateProperty",property:"countryData",info:E(n,t.allData,t.daysRange)});var n}},e.progression?r.a.createElement(R.a,null,r.a.createElement(G.a,{style:{color:"#ff3300"}})):r.a.createElement(R.a,null,r.a.createElement(Q.a,{style:{color:"#33cc33"}})),r.a.createElement(N.a,{primary:e.name,secondary:"Casos: "+e.cases.toLocaleString("pt-BR")}))}))))},$=a(166),q=(a(65),a(11)),K=[{title:"Confirmados",color:"#3498DB",strokeWidth:12},{title:"Casos Ativos",color:"#F1C40F",strokeWidth:12},{title:"Recuperados",color:"#16A085",strokeWidth:12},{title:"Mortes",color:"#E74C3C",strokeWidth:12}],U=function(e){var t=e.data,a=Object(n.useState)([]),o=Object(l.a)(a,2),c=o[0],i=o[1];return r.a.createElement(q.c,{xType:"time",margin:{right:65,left:10}},r.a.createElement(q.d,null),r.a.createElement(q.h,null),r.a.createElement(q.i,null),r.a.createElement(q.j,{orientation:"right"}),r.a.createElement(q.b,{style:{position:"absolute",left:"5%",top:"5%"},items:K}),r.a.createElement(q.f,{className:"linemark-series-example-2",curve:"curveMonotoneX",data:t[3].data,color:"#3498DB",onNearestX:function(e,a){var n=a.index;return i(t.map((function(e){return e.data[n]})))}}),r.a.createElement(q.f,{className:"linemark-series-example-2",curve:"curveMonotoneX",data:t[2].data,color:"#F1C40F"}),r.a.createElement(q.f,{className:"linemark-series-example-2",curve:"curveMonotoneX",data:t[1].data,color:"#16A085"}),r.a.createElement(q.f,{className:"linemark-series-example-2",curve:"curveMonotoneX",data:t[0].data,color:"#E74C3C"}),r.a.createElement(q.a,{values:c,itemsFormat:function(e){return[{title:"Confirmados",value:e[3].y},{title:"Casos Ativos",value:e[2].y},{title:"Recuperados",value:e[1].y},{title:"Mortes",value:e[0].y}]}}))},V=a(165),Z=a(167),_=Object(i.a)({root:{width:"90%"}}),ee=new Date,te=new Date("2020-03-03"),ae=Math.floor((ee.getTime()-te.getTime())/864e5),ne=[{value:0,label:"03-03-2020"},{value:ae,label:"".concat(ee.getDate(),"-").concat(ee.getMonth()+1,"-").concat(ee.getFullYear())}],re=function(){var e=_(),t=d(),a=t.state,n=t.dispatch;return r.a.createElement("div",{className:e.root},r.a.createElement(Z.a,{value:a.daysRange,onChange:function(e,t){n({type:"updateProperty",property:"daysRange",info:t}),n({type:"updateProperty",property:"countryData",info:E(a.selectedCountry,a.allData,t)})},"aria-labelledby":"range-slider",marks:ne,max:ae}))},oe=Object(i.a)((function(e){return{root:{width:"100%",height:"100%"},card:{flexGrow:1}}})),ce=function(){var e=d().state,t=oe();return r.a.createElement(w.a,{container:!0,spacing:2,alignItems:"center",justify:"center",style:{}},r.a.createElement(w.a,{item:!0,sm:12,md:10},r.a.createElement(w.a,{container:!0,spacing:0},r.a.createElement(w.a,{item:!0,sm:12,md:6,xs:12},r.a.createElement($.a,{label:e.selectedCountry})),r.a.createElement(w.a,{item:!0,sm:12,md:6,xs:12},e.daysRange&&r.a.createElement(re,null)),r.a.createElement(w.a,{item:!0,sm:12,md:12,xs:12},r.a.createElement(V.a,{p:1},r.a.createElement("div",{style:{height:"80vh",width:"80vw"}},r.a.createElement(z.a,{className:t.root,elevation:3},e.countryData&&r.a.createElement(U,{data:e.countryData}))))))),r.a.createElement(w.a,{item:!0,sm:12,md:2},r.a.createElement(V.a,null,r.a.createElement(H,null))))},le=function(e){var t=e.data;return r.a.createElement(q.c,{xType:"ordinal",margin:{right:65,left:10,bottom:80}},r.a.createElement(q.d,null),r.a.createElement(q.h,null),r.a.createElement(q.i,{tickLabelAngle:-90}),r.a.createElement(q.j,{orientation:"right"}),r.a.createElement(q.g,{className:"vertical-bar-series-example",data:t,color:"#CB4335"}),r.a.createElement(q.e,{data:t,getLabel:function(e){return e.y},labelAnchorX:"middle",labelAnchorY:"text-after-edge"}))},ie=Object(i.a)((function(e){return{root:{width:"100%",height:"100%"}}})),se=function(){var e=d().state,t=ie();return r.a.createElement(w.a,{container:!0,spacing:2,alignItems:"center",justify:"center",style:{}},r.a.createElement(w.a,{item:!0,sm:12,md:10},r.a.createElement(w.a,{container:!0,spacing:0,className:t.root},r.a.createElement(w.a,{item:!0,sm:12,md:6,xs:12},r.a.createElement($.a,{label:e.selectedCountry})),r.a.createElement(w.a,{item:!0,sm:12,md:6,xs:12},e.daysRange&&r.a.createElement(re,null)),r.a.createElement(w.a,{item:!0,sm:12,md:12,xs:12},r.a.createElement(V.a,{p:1},r.a.createElement("div",{style:{height:"80vh",width:"80vw"}},r.a.createElement(z.a,{className:t.root,elevation:3},e.countryData&&e.daysRange&&r.a.createElement(le,{data:h(e.countryData,e.daysRange)}))))))),r.a.createElement(w.a,{item:!0,sm:12,md:2},r.a.createElement(V.a,null,r.a.createElement(H,null))))},ue=function(e){switch(e.step){case 1:return r.a.createElement(ce,null);case 2:return r.a.createElement(se,null)}},me=function(e){var t=e.step;return r.a.createElement(ue,{step:t})},de=Object(i.a)((function(e){return{root:{display:"flex"},content:{flexGrow:1,padding:e.spacing(3)},toolbar:e.mixins.toolbar}}));var pe=function(){var e=de(),t=r.a.useReducer(f,p),a=Object(l.a)(t,2),o=a[0],c=a[1];return Object(n.useEffect)((function(){var e=new Date,t=new Date("2020-03-03"),a=Math.floor((e.getTime()-t.getTime())/864e5);c({type:"updateProperty",property:"daysRange",info:[0,a]}),fetch("https://pomber.github.io/covid19/timeseries.json").then((function(e){return e.json()})).then((function(e){return e})).then((function(e){c({type:"updateProperty",property:"allData",info:e}),c({type:"updateProperty",property:"countryData",info:E("Brazil",e,[0,a])})})),fetch("https://pomber.github.io/covid19/timeseries.json").then((function(e){return e.json()})).then((function(e){for(var t=[],a=0,n=Object.entries(e);a<n.length;a++){var r=Object(l.a)(n[a],2),o=r[0],c=r[1],i=c[c.length-1].confirmed-c[c.length-1].recovered,s=c[c.length-2].confirmed-c[c.length-2].recovered,u={name:o,cases:c[c.length-1].confirmed,progression:!(i<s)};t.push(u)}return t.sort((function(e,t){return e.cases<t.cases?1:-1})),t})).then((function(e){c({type:"updateProperty",property:"countries",info:e})}))}),[]),r.a.createElement("div",{className:e.root},r.a.createElement(m.Provider,{value:{state:o,dispatch:c}},r.a.createElement(X,{name:"Covid Follow-up"}),r.a.createElement("main",{className:e.content},r.a.createElement("div",{className:e.toolbar}),r.a.createElement(me,{step:o.activeStep}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.Fragment,null,r.a.createElement(pe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},94:function(e,t,a){e.exports=a(127)},99:function(e,t,a){}},[[94,1,2]]]);
//# sourceMappingURL=main.1a18c1ad.chunk.js.map